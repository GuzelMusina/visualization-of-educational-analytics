<html>
<head>
    <meta charset="utf-8">
    <title>Correlation</title>
    <script src="https://cdn.zingchart.com/zingchart.min.js"></script>

    <script type="text/javascript" src="PieChart/PieChart.js"></script>
    <script type="text/javascript" src="Data/GetData.js"></script>
    <script type="text/javascript" src="Data/ReadJSON.js"></script>
    <script type="text/javascript" src="PieChart/ClickPieChart.js"></script>
    <script type="text/javascript" src="VerticalBarChart/VerticalBarChart.js"></script>

    <link rel="stylesheet" href="css/pieChart.css">
    <link rel="stylesheet" href="css/verticalBarChart.css">
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
<div id="box">
<ul class="container">
    <li id="pieChart"></li>
    <li id="verticalBarChart"></li>
</ul>
<ul class="container">
    <li id="pieText">
        Данные, представленные на графике зависимости отображают насколько баллы ЕГЭ за Биологию,
        Химию и Русский язык коррелируют с оценками за экзамен по тем же предметам на первом курсе
    </li>
    <li id="verticalBarText">
        Данные, представленные на графике зависимости отображают насколько баллы ЕГЭ за Биологию,
        Химию и Русский язык коррелируют с оценками за экзамен по тем же предметам на первом курсе
    </li>
</ul>


<ul id="histoChart0" onclick="openMore()" hidden>
    <ul class="container">
        <li id="verticalBarChart1"/>
        <li id="verticalBarText0"> Зависит</li>
    </ul>
</ul>
<ul id="histoChart1" onclick="openMore()" hidden>
    <ul class="container">
        <li id="verticalBarChart0"/>
        <li id="verticalBarText1"> Не зависит</li>
    </ul>
</ul>
</div>
<script>
    let request = new XMLHttpRequest();
    request.open('GET', './resources/file1.json', true);
    request.responseType = 'text';
    request.send();

    request.onload = function () {
        const test = request.response;
        const jsonObj = JSON.parse(test);
        let data = new Data(getEgeSumArr(jsonObj), getExSumArr(jsonObj), getSubjectName(jsonObj), getOneSubject1(jsonObj),
            getOneSubject2(jsonObj), getOneSubject3(jsonObj));

        zingchart.render({
            id: 'pieChart',
            data: getPieChartConfig(data),
        });
        zingchart.render({
            id: 'verticalBarChart',
            data: getVerticalBarChart(data),
        });
        zingchart.render({
            id: 'verticalBarChart0',
            data: getVerticalBarChart(data),
        });
        zingchart.render({
            id: 'verticalBarChart1',
            data: getVerticalBarChart(data),
        });
    };
    clickToPieChart("pieChart", "histoChart0", "histoChart1", "pieChart-graph-id0-plotset-plot-0-node-0", "pieChart-graph-id0-plotset-plot-1-node-0");
</script>
</body>
</html>